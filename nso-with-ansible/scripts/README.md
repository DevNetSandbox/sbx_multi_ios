  # plug and play scripting


Plug in play scripting allows you to quickly add functionality/workflow to NSO

This repo contains a couple samples of how to use them

* command scripts - are used to add commands into NSO.
* post-commit scripts - scripts that execute after every commit

These can be any executable script (**chmod +x scriptname**) which contains the correct convention

### Command Scripts
* command scripts must respond to the --command argument with the appropriate command metadata
e.g my-new-command.py --command
  ```
  begin command
      modes: oper
      styles: c i j
      cmdpath: my-new-command
      help: do something interesting to a device
  end
  begin param
    name: device
    presence: mandatory
    flag: -d
    help: Device to generate
  end
  ```
* The above example would produce a CLI similar to the following
  ```
  admin@ncs# my-new-command ?
  Possible completions:
    device   Device to generate
  admin@ncs# device-report device ?
  Possible completions:
    Device to generate
  ```
* As for the scripts themselves, they can either create a new transaction, or attach to an existing transaction. This is useful for performing CDB lookups in `oper` mode or making changes to the transaction in `config` node

### Post Commit Scripts

* post-commit scripts must respond to the --post-commit argument with the following
e.g `my-post-commit-hook.sh --post-commit`
```
begin post-commit
end
```
* **NOTE**: any output generated by your post-commit script will not be seen by the CLI user. instead, you can use some type of logfile pattern

# Credits

Thanks Dan Sullivan for his awesome blog.

https://community.cisco.com/t5/nso-developer-hub-blogs/operationalizing-nso-using-plug-and-play-scripting/ba-p/3662854
